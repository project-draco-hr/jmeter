{
  if (log.isDebugEnabled()) {
    log.debug(text == null ? "<-null" : "<-\"" + text + "\"");
  }
  String value;
  if (text == null) {
    if (!acceptsNull)     throw new IllegalArgumentException();
    value=null;
  }
 else {
    if (acceptsExpressions && isExpression(text)) {
      value=text;
    }
 else {
      typeEditor.setAsText(text);
      value=typeEditor.getAsText();
      if (!acceptsOther && !isATag(text))       throw new IllegalArgumentException();
    }
  }
  guiEditor.setValue(value);
}
