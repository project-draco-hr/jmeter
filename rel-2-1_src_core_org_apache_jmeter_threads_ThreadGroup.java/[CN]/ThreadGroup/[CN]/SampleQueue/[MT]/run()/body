{
  SampleEvent event=null;
  while (true) {
    try {
      event=(SampleEvent)occurredQ.remove(0);
    }
 catch (    Exception ex) {
      waitForSamples();
      continue;
    }
    try {
      if (event != null) {
        Iterator iter=listeners.iterator();
        while (iter.hasNext()) {
          ((SampleListener)iter.next()).sampleOccurred(event);
        }
        iter=remoteListeners.iterator();
        while (iter.hasNext()) {
          try {
            ((RemoteSampleListener)iter.next()).sampleOccurred(event);
          }
 catch (          Exception ex) {
            log.error("",ex);
          }
        }
      }
 else {
        waitForSamples();
      }
    }
 catch (    Throwable ex) {
      log.error("",ex);
    }
  }
}
