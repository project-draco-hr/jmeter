{
  if (expectedLength != nodes.length) {
    StringBuffer failMsg=new StringBuffer(message);
    failMsg.append("\n");
    failMsg.append("Number of nodes expected ").append(expectedLength).append(" \n");
    failMsg.append("but was : ");
    failMsg.append(nodes.length).append("\n");
    failMsg.append("Nodes found are:\n");
    for (int i=0; i < nodes.length; i++) {
      failMsg.append("Node ").append(i).append(" : ");
      failMsg.append(nodes[i].getClass().getName()).append("\n");
      failMsg.append(nodes[i].toString()).append("\n\n");
    }
    fail(failMsg.toString());
  }
}
