{
  createParser("<html></html>");
  if (1.4 <= Parser.getVersionNumber()) {
    String testHtml1="<a HREF=\"/cgi-bin/view_search?query_text=postdate>20020701&txt_clr=White&bg_clr=Red&url=http://localhost/Testing/Report1.html\">20020702 Report 1</A>" + TEST_HTML;
    String testHtml2="<a href=\"http://normallink.com/sometext.html\">" + TEST_HTML;
    ParsingThread parsingThread[]=new ParsingThread[100];
    results=new HashMap();
    testProgress=0;
    for (int i=0; i < parsingThread.length; i++) {
      if (i < parsingThread.length / 2)       parsingThread[i]=new ParsingThread(i,testHtml1,parsingThread.length);
 else       parsingThread[i]=new ParsingThread(i,testHtml2,parsingThread.length);
      Thread thread=new Thread(parsingThread[i]);
      thread.start();
    }
    int completionValue=computeCompletionValue(parsingThread.length);
    do {
      try {
        Thread.sleep(50);
      }
 catch (      InterruptedException e) {
      }
    }
 while (testProgress != completionValue);
    for (int i=0; i < parsingThread.length; i++) {
      if (!parsingThread[i].passed()) {
        assertNotNull("Thread " + i + " link 1",parsingThread[i].getLink1());
        assertNotNull("Thread " + i + " link 2",parsingThread[i].getLink2());
        if (i < parsingThread.length / 2) {
          assertStringEquals("Thread " + i + ", link 1:","/cgi-bin/view_search?query_text=postdate>20020701&txt_clr=White&bg_clr=Red&url=http://localhost/Testing/Report1.html",parsingThread[i].getLink1().getLink());
          assertStringEquals("Thread " + i + ", link 2:","http://normallink.com/sometext.html",parsingThread[i].getLink2().getLink());
        }
 else {
          assertStringEquals("Thread " + i + ", link 1:","http://normallink.com/sometext.html",parsingThread[i].getLink1().getLink());
          assertNotNull("Thread " + i + " link 2",parsingThread[i].getLink2());
          assertStringEquals("Thread " + i + ", link 2:","/cgi-bin/view_search?query_text=postdate>20020701&txt_clr=White&bg_clr=Red&url=http://localhost/Testing/Report1.html",parsingThread[i].getLink2().getLink());
        }
      }
    }
  }
}
