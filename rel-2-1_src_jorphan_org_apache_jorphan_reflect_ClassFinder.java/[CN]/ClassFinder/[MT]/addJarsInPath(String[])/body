{
  Set fullList=new HashSet();
  for (int i=0; i < paths.length; i++) {
    final String path=paths[i];
    fullList.add(path);
    if (!path.endsWith(DOT_JAR)) {
      File dir=new File(path);
      if (dir.exists() && dir.isDirectory()) {
        String[] jars=dir.list(new FilenameFilter(){
          public boolean accept(          File f,          String name){
            return name.endsWith(DOT_JAR);
          }
        }
);
        for (int x=0; x < jars.length; x++) {
          fullList.add(jars[x]);
        }
      }
    }
  }
  return (String[])fullList.toArray(new String[0]);
}
