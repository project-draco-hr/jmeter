{
  ReportGuiPackage guiPackage=ReportGuiPackage.getInstance();
  ReportTreeNode newNode=new ReportTreeNode(newParent,guiPackage.getTreeModel());
  ReportTreeNode currentNode=guiPackage.getTreeListener().getCurrentNode();
  ReportTreeNode parentNode=(ReportTreeNode)currentNode.getParent();
  int index=parentNode.getIndex(currentNode);
  guiPackage.getTreeModel().insertNodeInto(newNode,parentNode,index);
  ReportTreeNode[] nodes=guiPackage.getTreeListener().getSelectedNodes();
  for (int i=0; i < nodes.length; i++) {
    moveNode(guiPackage,nodes[i],newNode);
  }
}
