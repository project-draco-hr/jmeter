{
  Thread[] threads=new Thread[100];
  for (int i=0; i < threads.length; i++) {
    threads[i]=new TestThread();
  }
  failed=0;
  for (int i=0; i < threads.length; i++) {
    threads[i].start();
    threadsRunning++;
  }
synchronized (this) {
    while (threadsRunning > 0)     wait();
  }
  assertEquals(failed,0);
}
