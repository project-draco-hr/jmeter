{
  Iterator<Object> iter=new LinkedList<Object>(tree.list()).iterator();
  while (iter.hasNext()) {
    TestElement item=(TestElement)iter.next();
    if (item instanceof TestPlan) {
      return getProperBranch(tree.getTree(item));
    }
    if (item instanceof TestFragmentController) {
      return tree.getTree(item);
    }
  }
  log.warn("No Test Fragment was found in included Test Plan, returning empty HashTree");
  return new HashTree();
}
