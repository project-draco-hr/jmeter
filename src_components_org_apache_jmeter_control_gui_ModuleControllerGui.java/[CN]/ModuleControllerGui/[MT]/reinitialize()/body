{
  TreeNodeWrapper current;
  nodesModel.removeAllElements();
  GuiPackage gp=GuiPackage.getInstance();
  JMeterTreeNode root;
  if (gp != null) {
    root=(JMeterTreeNode)GuiPackage.getInstance().getTreeModel().getRoot();
    buildNodesModel(root,"",0);
  }
  if (selected != null) {
    for (int i=0; i < nodesModel.getSize(); i++) {
      current=(TreeNodeWrapper)nodesModel.getElementAt(i);
      if ((current.getTreeNode() == null && selected == null) || (current.getTreeNode() != null && current.getTreeNode().equals(selected))) {
        nodesModel.setSelectedItem(current);
        break;
      }
    }
  }
}
