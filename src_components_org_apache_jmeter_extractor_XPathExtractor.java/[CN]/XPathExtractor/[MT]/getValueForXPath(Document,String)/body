{
  String val=null;
  Node match=XPathAPI.selectSingleNode(d,query);
  if (match != null) {
    if (match instanceof Element) {
      val=match.getFirstChild().getNodeValue();
    }
 else {
      val=match.getNodeValue();
    }
  }
  if (log.isDebugEnabled()) {
    log.debug(XPATH_QUERY + "(" + query+ ") is '"+ val+ "'");
  }
  return val;
}
