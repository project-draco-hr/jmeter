{
  String ret="0";
  final BeanShellInterpreter bshInterpreter=getBeanShellInterpreter();
  if (bshInterpreter == null) {
    log.error("BeanShell not found");
    return 0;
  }
  JMeterContext jmctx=JMeterContextService.getContext();
  JMeterVariables vars=jmctx.getVariables();
  try {
    bshInterpreter.set("ctx",jmctx);
    bshInterpreter.set("vars",vars);
    Object o=bshInterpreter.eval(getScript());
    if (o != null)     ret=o.toString();
  }
 catch (  JMeterException e) {
    log.warn("Problem in BeanShell script " + e);
  }
  try {
    return Long.decode(ret).longValue();
  }
 catch (  NumberFormatException e) {
    log.warn(e.getLocalizedMessage());
    return 0;
  }
}
