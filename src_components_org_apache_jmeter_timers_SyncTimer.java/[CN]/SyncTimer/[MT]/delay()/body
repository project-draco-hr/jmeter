{
synchronized (sync) {
    timerCounter[0]++;
    final int groupSz=getGroupSize();
    final int count=timerCounter[0];
    if ((groupSz == 0 && count >= JMeterContextService.getContext().getThreadGroup().getNumThreads()) || (groupSz > 0 && count >= groupSz)) {
      sync.notifyAll();
      timerCounter[0]=0;
    }
 else {
      try {
        sync.wait();
      }
 catch (      InterruptedException e) {
        log.warn(e.getLocalizedMessage());
      }
    }
  }
  return 0;
}
