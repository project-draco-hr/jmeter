{
  if (e.getSource() == testerButton) {
    try {
      MailerModel model=((MailerResultCollector)getModel()).getMailerModel();
      String to=addressField.getText();
      String from=fromField.getText();
      String via=smtpHostField.getText();
      String fail=failureSubjectField.getText();
      String success=successSubjectField.getText();
      String testString="JMeter-Testmail" + "\n" + "To:  " + to + "\n"+ "Via:  "+ via+ "\n"+ "Fail Subject:  "+ fail+ "\n"+ "Success Subject:  "+ success;
      log.debug(testString);
      Vector destination=new Vector();
      destination.add(to);
      model.sendMail(from,destination,"Testing mail-addresses",testString,via);
      log.info("Mail sent successfully!!");
    }
 catch (    UnknownHostException e1) {
      log.error("Invalid Mail Server ",e1);
      displayMessage(JMeterUtils.getResString("invalid_mail_server"),true);
    }
catch (    Exception ex) {
      log.error("Couldn't send mail...",ex);
      displayMessage(JMeterUtils.getResString("invalid_mail_server"),true);
    }
  }
}
