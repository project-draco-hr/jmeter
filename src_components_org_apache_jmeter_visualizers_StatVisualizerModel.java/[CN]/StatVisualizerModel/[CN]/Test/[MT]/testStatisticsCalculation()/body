{
  StatVisualizerModel m=new StatVisualizerModel();
  long t0=System.currentTimeMillis();
  m.addNewSample(sample("1",t0 + 0,100,true));
  m.addNewSample(sample("2",t0 + 250,200,true));
  m.addNewSample(sample("1",t0 + 500,300,true));
  assertEquals(2,m.getRunningSampleCount());
  assertEquals(2,m.labelMap.size());
{
    RunningSample s=m.getRunningSample("1");
    assertEquals("1",s.getLabel());
    assertEquals(2,s.getNumSamples());
    assertEquals(100,s.getMin());
    assertEquals(300,s.getMax());
    assertEquals(200,s.getAverage());
    assertEquals(4.0,s.getRate(),1e-6);
  }
{
    RunningSample s=m.getRunningSample("2");
    assertEquals("2",s.getLabel());
    assertEquals(1,s.getNumSamples());
    assertEquals(200,s.getMin());
    assertEquals(200,s.getMax());
    assertEquals(200,s.getAverage());
  }
{
    RunningSample s=m.getRunningSampleTotal();
    assertEquals(3,s.getNumSamples());
    assertEquals(100,s.getMin());
    assertEquals(300,s.getMax());
    assertEquals(200,s.getAverage());
    assertEquals(6.0,s.getRate(),1e-6);
  }
}
