{
  this.transactionDone=true;
  transactionSampleResult.setResponseMessage("Number of samples in transaction : " + calls + ", number of failing samples : "+ noFailingSamples);
  if (transactionSampleResult.isSuccessful()) {
    transactionSampleResult.setResponseCodeOK();
  }
  if (!transactionController.isIncludeTimers()) {
    long end=SampleResult.currentTimeInMs();
    transactionSampleResult.setIdleTime(end - transactionSampleResult.getStartTime() - totalTime);
    transactionSampleResult.setEndTime(end);
  }
}
