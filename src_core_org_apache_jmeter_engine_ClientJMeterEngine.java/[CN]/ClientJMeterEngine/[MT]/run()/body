{
  log.info("running clientengine run method");
  SearchByClass testListeners=new SearchByClass(TestListener.class);
  ConvertListeners sampleListeners=new ConvertListeners();
  HashTree testTree=test;
  PreCompiler compiler=new PreCompiler(true);
synchronized (testTree) {
    testTree.traverse(compiler);
    testTree.traverse(new TurnElementsOn());
    testTree.traverse(testListeners);
    testTree.traverse(sampleListeners);
  }
  try {
    JMeterContextService.startTest();
    remote.configure(test,host);
    log.info("sent test to " + host);
    if (savep != null) {
      log.info("Sending properties " + savep);
      try {
        remote.setProperties(savep);
      }
 catch (      RemoteException e) {
        log.warn("Could not set properties: " + e.toString());
      }
    }
    remote.runTest();
    log.info("sent run command to " + host);
  }
 catch (  Exception ex) {
    log.error("",ex);
  }
}
