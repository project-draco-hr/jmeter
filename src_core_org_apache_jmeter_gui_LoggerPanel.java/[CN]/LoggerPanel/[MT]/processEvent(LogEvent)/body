{
  if (!LOGGER_PANEL_RECEIVE_WHEN_CLOSED && !GuiPackage.getInstance().getMenuItemLoggerPanel().getModel().isSelected()) {
    return;
  }
  SwingUtilities.invokeLater(new Runnable(){
    @Override public void run(){
synchronized (textArea) {
        Document doc;
        try {
          doc=textArea.getDocument();
          Element root=doc.getDefaultRootElement();
          int lineCount=root.getElementCount();
          if (lineCount > LOGGER_PANEL_MAX_LINES_COUNT) {
            int end=root.getElement(lineCount - LOGGER_PANEL_MAX_LINES_COUNT - 1).getEndOffset();
            doc.remove(0,end);
          }
          doc.insertString(doc.getLength(),format.format(logEvent),null);
          textArea.setCaretPosition(doc.getLength() - 1);
        }
 catch (        BadLocationException e) {
        }
      }
    }
  }
);
}
