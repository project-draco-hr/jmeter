{
  String actionCommand=e.getActionCommand();
  try {
    try {
      GuiPackage.getInstance().updateCurrentGui();
    }
 catch (    Exception err) {
      log.error("performAction(" + actionCommand + ") updateCurrentGui() on"+ e.toString()+ " caused",err);
      JMeterUtils.reportErrorToUser("Problem updating GUI - see log file for details");
    }
    Set<Command> commandObjects=commands.get(actionCommand);
    Iterator<Command> iter=commandObjects.iterator();
    while (iter.hasNext()) {
      try {
        Command c=iter.next();
        preActionPerformed(c.getClass(),e);
        c.doAction(e);
        postActionPerformed(c.getClass(),e);
      }
 catch (      IllegalUserActionException err) {
        JMeterUtils.reportErrorToUser(err.toString());
      }
catch (      Exception err) {
        log.error("",err);
      }
    }
  }
 catch (  NullPointerException er) {
    log.error("performAction(" + actionCommand + ") "+ e.toString()+ " caused",er);
    JMeterUtils.reportErrorToUser("Sorry, this feature (" + actionCommand + ") not yet implemented");
  }
}
