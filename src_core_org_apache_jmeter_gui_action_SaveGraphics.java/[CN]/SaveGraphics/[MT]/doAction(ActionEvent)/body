{
  JMeterGUIComponent component=null;
  JComponent comp=null;
  if (!commands.contains(e.getActionCommand())) {
    throw new IllegalUserActionException("Invalid user command:" + e.getActionCommand());
  }
  if (e.getActionCommand().equals(ActionNames.SAVE_GRAPHICS)) {
    component=GuiPackage.getInstance().getCurrentGui();
    if (component instanceof Printable) {
      comp=((Printable)component).getPrintableComponent();
      saveImage(comp);
    }
  }
  if (e.getActionCommand().equals(ActionNames.SAVE_GRAPHICS_ALL)) {
    component=GuiPackage.getInstance().getCurrentGui();
    comp=((JComponent)component).getRootPane();
    saveImage(comp);
  }
}
