{
  GuiPackage gui=GuiPackage.getInstance();
  engine=new StandardJMeterEngine();
  HashTree testTree=gui.getTreeModel().getTestPlan();
  convertSubTree(testTree);
  DisabledComponentRemover remover=new DisabledComponentRemover(testTree);
  testTree.traverse(remover);
  testTree.add(testTree.getArray()[0],gui.getMainFrame());
  TreeCloner cloner=new TreeCloner(false);
  testTree.traverse(cloner);
  engine.configure(cloner.getClonedTree());
  try {
    engine.runTest();
  }
 catch (  JMeterEngineException e) {
    JOptionPane.showMessageDialog(gui.getMainFrame(),e.getMessage(),JMeterUtils.getResString("Error Occurred"),JOptionPane.ERROR_MESSAGE);
  }
}
