{
  final Map<String,Template> temps=new LinkedHashMap<String,Template>();
  final String[] templateFiles=TEMPLATE_FILES.split(",");
  for (  String templateFile : templateFiles) {
    if (!StringUtils.isEmpty(templateFile)) {
      final File f=new File(JMeterUtils.getJMeterHome(),templateFile);
      try {
        if (f.exists() && f.canRead()) {
          log.info("Reading templates from:" + f.getAbsolutePath());
          temps.putAll(((Templates)xstream.fromXML(f)).templates);
        }
 else {
          log.warn("Ignoring template file:'" + f.getAbsolutePath() + "' as it does not exist or is not readable");
        }
      }
 catch (      Exception ex) {
        log.warn("Ignoring template file:'" + f.getAbsolutePath() + "', an error occured parsing the file",ex);
      }
    }
  }
  return temps;
}
