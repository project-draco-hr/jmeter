{
  try {
    List<String> guiClasses=ClassFinder.findClassesThatExtend(JMeterUtils.getSearchPaths(),new Class[]{JMeterGUIComponent.class,TestBean.class});
    Collections.sort(guiClasses);
    Iterator<String> iter=guiClasses.iterator();
    while (iter.hasNext()) {
      String name=iter.next();
      if (name.endsWith("JMeterTreeNode") || name.endsWith("TestBeanGUI")) {
        continue;
      }
      JMeterGUIComponent item;
      try {
        Class<?> c=Class.forName(name);
        if (TestBean.class.isAssignableFrom(c)) {
          item=new TestBeanGUI(c);
        }
 else {
          item=(JMeterGUIComponent)c.newInstance();
        }
      }
 catch (      NoClassDefFoundError e) {
        log.warn("Missing jar? Could not create " + name + ". "+ e);
        continue;
      }
catch (      Throwable e) {
        log.warn("Could not instantiate " + name,e);
        continue;
      }
      if (elementsToSkip.contains(name) || elementsToSkip.contains(item.getStaticLabel())) {
        log.info("Skipping " + name);
        continue;
      }
 else {
        elementsToSkip.add(name);
      }
      Collection<String> categories=item.getMenuCategories();
      if (categories == null) {
        log.debug(name + " participates in no menus.");
        continue;
      }
      if (categories.contains(TIMERS)) {
        timers.add(new MenuInfo(item,name));
      }
      if (categories.contains(POST_PROCESSORS)) {
        postProcessors.add(new MenuInfo(item,name));
      }
      if (categories.contains(PRE_PROCESSORS)) {
        preProcessors.add(new MenuInfo(item,name));
      }
      if (categories.contains(CONTROLLERS)) {
        controllers.add(new MenuInfo(item,name));
      }
      if (categories.contains(SAMPLERS)) {
        samplers.add(new MenuInfo(item,name));
      }
      if (categories.contains(NON_TEST_ELEMENTS)) {
        nonTestElements.add(new MenuInfo(item,name));
      }
      if (categories.contains(LISTENERS)) {
        listeners.add(new MenuInfo(item,name));
      }
      if (categories.contains(CONFIG_ELEMENTS)) {
        configElements.add(new MenuInfo(item,name));
      }
      if (categories.contains(ASSERTIONS)) {
        assertions.add(new MenuInfo(item,name));
      }
    }
  }
 catch (  IOException e) {
    log.error("",e);
  }
}
