{
  try {
    SampleMetadata result;
    String line=reader.readLine();
    if (line == null) {
      throw new IllegalArgumentException("File is empty");
    }
    if (useSaveSampleCfg && CSVSaveService.getSampleSaveConfiguration(line,file.getAbsolutePath()) == null) {
      result=new SampleMetadata(SampleSaveConfiguration.staticConfig());
    }
 else {
      result=new SampleMetaDataParser(separator).parse(line);
    }
    return result;
  }
 catch (  Exception e) {
    throw new SampleException("Could not read metadata !",e);
  }
}
