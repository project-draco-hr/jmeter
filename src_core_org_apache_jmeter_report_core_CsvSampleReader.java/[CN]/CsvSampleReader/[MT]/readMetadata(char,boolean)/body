{
  try {
    SampleMetadata result;
    String line=reader.readLine();
    if (line == null) {
      throw new IllegalArgumentException("File is empty");
    }
    if (useSaveSampleCfg && CSVSaveService.getSampleSaveConfiguration(line,file.getAbsolutePath()) == null) {
      LOG.warn("File '" + file.getAbsolutePath() + "' does not contain any header, it is usually better to have it, "+ "otherwise ensure you use the same jmeter.properties/user.properties when generating the CSV file and generating the report");
      System.err.println("File '" + file.getAbsolutePath() + "' does not contain any header, it is usually better to have it, "+ "otherwise ensure you use the same jmeter.properties/user.properties when generating the CSV file and generating the report");
      result=new SampleMetadata(SampleSaveConfiguration.staticConfig());
    }
 else {
      result=new SampleMetaDataParser(separator).parse(line);
    }
    return result;
  }
 catch (  Exception e) {
    throw new SampleException("Could not read metadata !",e);
  }
}
