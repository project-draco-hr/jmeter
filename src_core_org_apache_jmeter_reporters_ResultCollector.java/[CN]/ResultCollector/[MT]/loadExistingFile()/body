{
  boolean parsedOK=false;
  if (new File(getFilename()).exists()) {
    clearVisualizer();
    BufferedReader dataReader=null;
    try {
      Configuration savedSamples=getConfiguration(getFilename());
      readSamples(savedSamples);
      parsedOK=true;
    }
 catch (    SAXException e) {
      log.warn("Error parsing XML results " + e);
      log.info("Assuming CSV format instead");
      dataReader=new BufferedReader(new FileReader(getFilename()));
      String line;
      while ((line=dataReader.readLine()) != null) {
        sendToVisualizer(OldSaveService.makeResultFromDelimitedString(line));
      }
      parsedOK=true;
    }
catch (    Exception e) {
      log.error("Error parsing results file " + getFilename(),e);
    }
 finally {
      if (dataReader != null)       dataReader.close();
      if (!parsedOK) {
        SampleResult sr=new SampleResult();
        sr.setSampleLabel("Error loading results file - see log file");
        sendToVisualizer(sr);
      }
    }
  }
}
