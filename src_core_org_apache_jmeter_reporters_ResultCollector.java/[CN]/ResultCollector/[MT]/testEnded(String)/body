{
synchronized (LOCK) {
    instanceCount--;
    if (instanceCount <= 0) {
      Runtime.getRuntime().removeShutdownHook(shutdownHook);
      finalizeFileOutput();
      inTest=false;
    }
  }
  if (summariser != null) {
    summariser.testEnded(host);
  }
}
