{
  Set<Entry<String,Totals>> totals=null;
synchronized (LOCK) {
    INSTANCE_COUNT--;
    if (INSTANCE_COUNT <= 0) {
      totals=ACCUMULATORS.entrySet();
    }
  }
  if (totals == null) {
    return;
  }
  for (  Map.Entry<String,Totals> entry : totals) {
    String str;
    String name=entry.getKey();
    Totals total=entry.getValue();
    if (total.delta.getNumSamples() > 0 && total.total.getNumSamples() > 0) {
      str=format(name,total.delta,"+");
      if (TOLOG) {
        log.info(str);
      }
      if (TOOUT) {
        System.out.println(str);
      }
    }
    total.moveDelta();
    str=format(name,total.total,"=");
    if (TOLOG) {
      log.info(str);
    }
    if (TOOUT) {
      System.out.println(str);
    }
  }
}
