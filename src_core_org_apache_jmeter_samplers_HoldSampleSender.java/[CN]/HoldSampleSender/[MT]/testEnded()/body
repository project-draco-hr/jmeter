{
  log.info("Test ended()");
  try {
synchronized (sampleStore) {
      Iterator<SampleEvent> i=sampleStore.iterator();
      while (i.hasNext()) {
        SampleEvent se=i.next();
        listener.sampleOccurred(se);
      }
    }
    listener.testEnded();
    sampleStore.clear();
  }
 catch (  Throwable ex) {
    log.warn("testEnded()",ex);
  }
}
