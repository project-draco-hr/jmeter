{
  if (haveNanoTime()) {
    long elapsedInMs=sampleNsClockInMs() - referenceTimeNsClock;
    return referenceTimeMsClock + elapsedInMs;
  }
 else {
    return System.currentTimeMillis();
  }
}
