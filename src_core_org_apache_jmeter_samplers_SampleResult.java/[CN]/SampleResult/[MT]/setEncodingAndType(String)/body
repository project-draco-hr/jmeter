{
  if (ct != null) {
    final String CS_PFX="charset=";
    int cset=ct.toLowerCase().indexOf(CS_PFX);
    if (cset >= 0) {
      String charSet=ct.substring(cset + CS_PFX.length());
      if (charSet.startsWith("\"")) {
        setDataEncoding(charSet.substring(1,charSet.length() - 1));
      }
 else {
        setDataEncoding(charSet);
      }
    }
    if (ct.startsWith("image/")) {
      setDataType(BINARY);
    }
 else {
      setDataType(TEXT);
    }
  }
}
