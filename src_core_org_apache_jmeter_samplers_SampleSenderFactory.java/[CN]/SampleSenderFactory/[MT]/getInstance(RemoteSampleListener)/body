{
  boolean holdSamples=JMeterUtils.getPropDefault("hold_samples",false);
  String type=JMeterUtils.getPropDefault("mode","Standard");
  if (holdSamples || type.equalsIgnoreCase("Hold")) {
    HoldSampleSender h=new HoldSampleSender(listener);
    return h;
  }
 else   if (type.equalsIgnoreCase("Batch")) {
    BatchSampleSender b=new BatchSampleSender(listener);
    return b;
  }
 else   if (type.equalsIgnoreCase("Full")) {
    StandardSampleSender s=new StandardSampleSender(listener);
    return s;
  }
 else {
    return new DataStrippingSampleSender(listener);
  }
}
