{
  byte[] original=new byte[1000000];
  for (int i=0; i < FILES.length; i++) {
    InputStream in=new FileInputStream(new File("testfiles/" + FILES[i]));
    int len=in.read(original);
    in.close();
    in=new ByteArrayInputStream(original,0,len);
    HashTree tree=loadSubTree(in);
    in.close();
    ByteArrayOutputStream out=new ByteArrayOutputStream(1000000);
    saveSubTree(tree,out);
    out.close();
    if (len != out.size()) {
      fail("Loading file bin/testfiles/" + FILES[i] + " and "+ "saving it back changes its contents.");
    }
  }
}
