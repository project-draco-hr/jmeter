{
  if (!reader.markSupported()) {
    reader=new BufferedInputStream(reader);
  }
  reader.mark(Integer.MAX_VALUE);
  ScriptWrapper wrapper=null;
  try {
    wrapper=(ScriptWrapper)saver.fromXML(new InputStreamReader(reader));
    return wrapper.testPlan;
  }
 catch (  RuntimeException e) {
    log.warn("Problem loading new style: ",e);
    reader.reset();
    return OldSaveService.loadSubTree(reader);
  }
}
