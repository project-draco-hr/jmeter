{
  TestElementProperty prop=(TestElementProperty)arg0;
  writer.addAttribute(ConversionHelp.ATT_NAME,ConversionHelp.encode(prop.getName()));
  Class<?> clazz=prop.getObjectValue().getClass();
  writer.addAttribute(ConversionHelp.ATT_ELEMENT_TYPE,SaveService.IS_TESTPLAN_FORMAT_22 ? mapper().serializedClass(clazz) : clazz.getName());
  if (SaveService.IS_TESTPLAN_FORMAT_22) {
    TestElement te=(TestElement)prop.getObjectValue();
    ConversionHelp.saveSpecialProperties(te,writer);
  }
  PropertyIterator iter=prop.iterator();
  while (iter.hasNext()) {
    JMeterProperty jmp=iter.next();
    if (!SaveService.IS_TESTPLAN_FORMAT_22 || !ConversionHelp.isSpecialProperty(jmp.getName())) {
      if (!(TestElement.COMMENTS.equals(jmp.getName()) && jmp.getStringValue().length() == 0)) {
        writeItem(jmp,context,writer);
      }
    }
  }
}
