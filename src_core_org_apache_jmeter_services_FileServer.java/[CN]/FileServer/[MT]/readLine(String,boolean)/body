{
  FileEntry fileEntry=(FileEntry)files.get(filename);
  if (fileEntry != null) {
    if (fileEntry.inputOutputObject == null) {
      BufferedReader r=new BufferedReader(new FileReader(fileEntry.file));
      fileEntry.inputOutputObject=r;
    }
 else     if (!(fileEntry.inputOutputObject instanceof Reader)) {
      throw new IOException("File " + filename + " already in use");
    }
    BufferedReader reader=(BufferedReader)fileEntry.inputOutputObject;
    String line=reader.readLine();
    if (line == null && recycle) {
      reader.close();
      reader=new BufferedReader(new FileReader(fileEntry.file));
      fileEntry.inputOutputObject=reader;
      line=reader.readLine();
    }
    if (log.isDebugEnabled())     log.debug("Read:" + line);
    return line;
  }
  throw new IOException("File never reserved: " + filename);
}
