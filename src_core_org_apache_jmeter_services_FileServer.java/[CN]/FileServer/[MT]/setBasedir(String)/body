{
  if (filesOpen()) {
    throw new IllegalStateException("Files are still open, cannot change base directory");
  }
  files.clear();
  if (basedir != null) {
    base=new File(basedir);
    if (!base.isDirectory()) {
      base=base.getParentFile();
    }
    log.info("Set new base='" + base + "'");
  }
}
