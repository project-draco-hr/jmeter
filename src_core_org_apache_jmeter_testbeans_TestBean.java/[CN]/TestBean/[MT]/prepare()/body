{
  Object[] param=new Object[1];
  if (log.isDebugEnabled())   log.debug("Preparing " + this.getClass());
  for (PropertyIterator jprops=propertyIterator(); jprops.hasNext(); ) {
    JMeterProperty jprop=jprops.next();
    PropertyDescriptor descriptor=(PropertyDescriptor)descriptors.get(jprop.getName());
    if (descriptor == null) {
      if (log.isDebugEnabled()) {
        log.debug("Ignoring auxiliary property " + jprop.getName());
      }
      continue;
    }
    Class type=descriptor.getPropertyType();
    Object value=unwrapProperty(jprop,type);
    if (log.isDebugEnabled())     log.debug("Setting " + jprop.getName() + "="+ value);
    if (value != null || !type.isPrimitive()) {
      param[0]=value;
      invokeOrBailOut(descriptor.getWriteMethod(),param);
    }
  }
}
