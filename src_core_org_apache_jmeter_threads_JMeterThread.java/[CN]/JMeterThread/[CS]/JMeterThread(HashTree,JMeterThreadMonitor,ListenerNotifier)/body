{
  this.monitor=monitor;
  threadVars=new JMeterVariables();
  testTree=test;
  compiler=new TestCompiler(testTree,threadVars);
  controller=(Controller)testTree.getArray()[0];
  SearchByClass threadListenerSearcher=new SearchByClass(TestListener.class);
  test.traverse(threadListenerSearcher);
  testListeners=threadListenerSearcher.getSearchResults();
  SearchByClass testListenerSearcher=new SearchByClass(ThreadListener.class);
  test.traverse(testListenerSearcher);
  threadListeners=testListenerSearcher.getSearchResults();
  notifier=note;
  running=true;
}
