{
  this.monitor=monitor;
  threadVars=new JMeterVariables();
  testTree=test;
  compiler=new TestCompiler(testTree,threadVars);
  controller=(Controller)testTree.getArray()[0];
  SearchByClass threadListenerSearcher=new SearchByClass(ThreadListener.class);
  test.traverse(threadListenerSearcher);
  threadListeners=threadListenerSearcher.getSearchResults();
  notifier=note;
}
