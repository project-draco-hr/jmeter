{
  LOG.debug("Subtracting node, stack size = " + stack.size());
  TestElement child=stack.getLast();
  trackIterationListeners(stack);
  if (child instanceof Sampler) {
    saveSamplerConfigs((Sampler)child);
  }
 else   if (child instanceof TransactionController) {
    saveTransactionControllerConfigs((TransactionController)child);
  }
  stack.removeLast();
  if (stack.size() > 0) {
    TestElement parent=stack.getLast();
    ObjectPair pair=new ObjectPair(child,parent);
    if (parent instanceof Controller && (child instanceof Sampler || child instanceof Controller)) {
synchronized (PAIRING) {
        if (!PAIRING.contains(pair)) {
          parent.addTestElement(child);
          PAIRING.add(pair);
        }
      }
    }
  }
}
