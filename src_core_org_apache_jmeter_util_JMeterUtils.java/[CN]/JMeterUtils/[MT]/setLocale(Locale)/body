{
  log.info("Setting Locale to " + loc.toString());
  Locale def=null;
  if (loc.getLanguage().equals(Locale.ENGLISH.getLanguage())) {
    def=Locale.getDefault();
    if (!def.getLanguage().equals(Locale.ENGLISH.getLanguage())) {
      Locale.setDefault(Locale.ENGLISH);
    }
 else {
      def=null;
    }
  }
  if (loc.toString().equals("ignoreResources")) {
    log.warn("Resource bundles will be ignored");
    ignoreResorces=true;
  }
 else {
    ignoreResorces=false;
    locale=loc;
    resources=ResourceBundle.getBundle("org.apache.jmeter.resources.messages",locale);
  }
  notifyLocaleChangeListeners();
  if (def != null) {
    Locale.setDefault(def);
  }
}
