{
  final String lang=getScriptLanguage();
  ScriptEngine scriptEngine=sem.getEngineByName(lang);
  if (scriptEngine == null) {
    throw new ScriptException("Cannot find engine named: " + lang);
  }
  File scriptFile=new File(getFilename());
  if (scriptFile.exists()) {
    BufferedReader fileReader=null;
    try {
      fileReader=new BufferedReader(new FileReader(scriptFile));
      return scriptEngine.eval(fileReader);
    }
  finally {
      IOUtils.closeQuietly(fileReader);
    }
  }
 else {
    return scriptEngine.eval(getScript());
  }
}
