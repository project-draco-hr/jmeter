{
  if (conn instanceof javax.net.ssl.HttpsURLConnection) {
    javax.net.ssl.HttpsURLConnection secureConn=(javax.net.ssl.HttpsURLConnection)conn;
    secureConn.setSSLSocketFactory(this.getContext().getSocketFactory());
  }
 else   if (conn instanceof sun.net.www.protocol.https.HttpsURLConnectionImpl) {
    sun.net.www.protocol.https.HttpsURLConnectionImpl secureConn=(sun.net.www.protocol.https.HttpsURLConnectionImpl)conn;
    secureConn.setSSLSocketFactory(this.getContext().getSocketFactory());
  }
}
