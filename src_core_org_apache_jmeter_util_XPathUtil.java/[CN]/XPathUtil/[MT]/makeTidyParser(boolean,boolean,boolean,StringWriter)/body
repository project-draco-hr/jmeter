{
  Tidy tidy=new Tidy();
  tidy.setCharEncoding(org.w3c.tidy.Configuration.UTF8);
  tidy.setQuiet(quiet);
  tidy.setShowWarnings(showWarnings);
  tidy.setMakeClean(true);
  tidy.setXmlTags(isXml);
  if (stringWriter != null) {
    tidy.setErrout(new PrintWriter(stringWriter));
  }
  return tidy;
}
