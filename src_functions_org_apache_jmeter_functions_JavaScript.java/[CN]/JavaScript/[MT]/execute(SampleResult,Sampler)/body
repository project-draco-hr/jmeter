{
  JMeterVariables vars=getVariables();
  String script=((CompoundFunction)values[0]).execute();
  String varName=((CompoundFunction)values[values.length - 1]).execute();
  String resultStr="";
  Context cx=Context.enter();
  try {
    Scriptable scope=cx.initStandardObjects(null);
    Object result=cx.evaluateString(scope,script,"<cmd>",1,null);
    resultStr=Context.toString(result);
    vars.put(varName,resultStr);
  }
 catch (  JavaScriptException e) {
    throw new InvalidVariableException();
  }
 finally {
    Context.exit();
  }
  return resultStr;
}
