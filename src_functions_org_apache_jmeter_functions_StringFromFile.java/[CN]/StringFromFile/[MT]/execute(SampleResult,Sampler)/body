{
  JMeterVariables vars=getVariables();
  if (values.length >= PARAM_NAME) {
    myName=((CompoundVariable)values[PARAM_NAME - 1]).execute();
  }
  myValue=ERR_IND;
  if (firstTime) {
    openFile();
    firstTime=false;
  }
  if (null != myBread) {
    try {
      String line=myBread.readLine();
      if (line == null && reopenFile) {
        log.info("Reached EOF on " + fileName);
        closeFile();
        openFile();
        if (myBread != null) {
          line=myBread.readLine();
        }
 else {
          line=ERR_IND;
        }
      }
      myValue=line;
    }
 catch (    Exception e) {
      String tn=Thread.currentThread().getName();
      log.error(tn + " error reading file " + e.toString());
    }
  }
 else {
    if (values.length >= PARAM_END) {
      log.info("Detected end of sequence.");
      throw new RuntimeException("Stop Thread");
    }
  }
  if (myName.length() > 0) {
    vars.put(myName,myValue);
  }
  if (log.isDebugEnabled()) {
    log.debug(this + "::StringFromFile.execute() name:" + myName+ " value:"+ myValue);
  }
  return myValue;
}
