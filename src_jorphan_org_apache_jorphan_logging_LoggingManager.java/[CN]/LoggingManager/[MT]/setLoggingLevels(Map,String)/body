{
  WriterTarget tempTarget=null;
  try {
    tempTarget=new WriterTarget(new FileWriter(logFile),format);
  }
 catch (  Exception e) {
    target=new WriterTarget(new PrintWriter(System.out),format);
  }
  Iterator names=appProperties.keySet().iterator();
  while (names.hasNext()) {
    String prop=(String)names.next();
    if (prop.startsWith(LOG_PRIORITY)) {
      String name=prop.substring(LOG_PRIORITY.length() + 1);
      logManager.setPriority(Priority.getPriorityForName((String)appProperties.get(prop)),name);
      if (tempTarget != null) {
        logManager.setTarget(tempTarget,name);
      }
 else {
        logManager.setTarget(target,name);
      }
    }
  }
}
