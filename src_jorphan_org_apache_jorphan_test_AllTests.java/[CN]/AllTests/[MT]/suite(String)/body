{
  TestSuite suite=new TestSuite();
  try {
    Iterator classes=ClassFinder.findClassesThatExtend(searchPaths.split(","),new Class[]{TestCase.class},true).iterator();
    while (classes.hasNext()) {
      String name=(String)classes.next();
      try {
        suite.addTest(new TestSuite(Class.forName(name)));
      }
 catch (      Exception ex) {
        log.error("error adding test :" + ex);
      }
    }
  }
 catch (  IOException e) {
    log.error("",e);
  }
catch (  ClassNotFoundException e) {
    log.error("",e);
  }
  return suite;
}
