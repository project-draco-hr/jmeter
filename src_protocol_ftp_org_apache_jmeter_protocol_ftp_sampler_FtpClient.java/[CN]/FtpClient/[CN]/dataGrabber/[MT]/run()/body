{
  try {
    if (passive) {
      s=new Socket(host,port);
    }
 else {
      log.info("creating socket on " + port);
      ServerSocket server=new ServerSocket(port);
      log.info("accepting...");
      portCreated=true;
      s=server.accept();
      log.info("accepted");
    }
  }
 catch (  Exception e) {
  }
  try {
    InputStream in=s.getInputStream();
    BufferedInputStream dataIn=new BufferedInputStream(in);
    int bufferSize=4096;
    byte[] inputBuffer=new byte[bufferSize];
    int i=0;
    while ((i=dataIn.read(inputBuffer,0,bufferSize)) != -1) {
      buffer.append((char)i);
    }
    dataIn.close();
    s.close();
  }
 catch (  Exception e) {
    log.error("FTP client: dataGrabber",e);
  }
  done=true;
}
