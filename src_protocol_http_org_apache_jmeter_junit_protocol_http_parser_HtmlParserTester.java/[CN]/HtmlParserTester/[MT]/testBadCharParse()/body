{
  HTTPSampler config=makeUrlConfig(".*index.html");
  config.addArgument("te$st","g.*");
  config.setMethod(HTTPSampler.POST);
  HTTPSampler context=makeContext("http://www.apache.org/subdir/previous.html");
  String responseText="<html><head><title>Test page</title></head><body>" + "<form action=\"index.html\" method=\"POST\"><input type=\"checkbox\" name=\"te$st\"" + " value=\"goto\">Goto index page</form></body></html>";
  SampleResult result=new SampleResult();
  result.setResponseData(responseText.getBytes());
  result.setSampleLabel(context.toString());
  result.setSamplerData(context);
  parser.modifyEntry(config,result);
  assertEquals("http://www.apache.org:80/subdir/index.html",config.getUrl().toString());
  assertEquals("te%24st=goto",config.getQueryString());
}
