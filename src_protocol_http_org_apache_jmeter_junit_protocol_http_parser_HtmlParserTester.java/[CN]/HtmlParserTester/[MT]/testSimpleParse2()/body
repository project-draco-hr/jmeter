{
  HTTPSampler config=makeUrlConfig("/index\\.html");
  HTTPSampler context=makeContext("http://www.apache.org/subdir/previous.html");
  String responseText="<html><head><title>Test page</title></head><body>" + "<a href=\"/index.html\">Goto index page</a>hfdfjiudfjdfjkjfkdjf" + "<b>bold text</b><a href=lowerdir/index.html>lower</a></body></html>";
  SampleResult result=new SampleResult();
  result.setResponseData(responseText.getBytes());
  result.setSampleLabel(context.toString());
  result.setSamplerData(context);
  parser.modifyEntry(config,result);
  String newUrl=config.getUrl().toString();
  assertTrue("http://www.apache.org:80/index.html".equals(newUrl) || "http://www.apache.org:80/subdir/lowerdir/index.html".equals(newUrl));
}
