{
  File file=new File(authFile);
  if (!file.isAbsolute()) {
    file=new File(System.getProperty("user.dir") + File.separator + authFile);
  }
  BufferedReader reader=null;
  if (file.canRead()) {
    reader=new BufferedReader(new FileReader(file));
  }
 else {
    throw new IOException("The file you specified cannot be read.");
  }
  String line;
  boolean ok=true;
  while ((line=reader.readLine()) != null) {
    try {
      if (line.startsWith("#") || line.trim().length() == 0) {
        continue;
      }
      StringTokenizer st=new StringTokenizer(line,"\t");
      String url=st.nextToken();
      String user=st.nextToken();
      String pass=st.nextToken();
      String domain="";
      String realm="";
      if (st.hasMoreTokens()) {
        domain=st.nextToken();
        realm=st.nextToken();
      }
      Authorization auth=new Authorization(url,user,pass,domain,realm);
      getAuthObjects().addItem(auth);
    }
 catch (    NoSuchElementException e) {
      log.error("Error parsing auth line: '" + line + "'");
      ok=false;
    }
  }
  reader.close();
  if (!ok) {
    JMeterUtils.reportErrorToUser("One or more errors found when reading the Auth file - see the log file");
  }
}
