{
  Sampler sampler=JMeterContextService.getContext().getCurrentSampler();
  SampleResult responseText=JMeterContextService.getContext().getPreviousResult();
  if (responseText == null) {
    return;
  }
  initRegex(getArgumentName());
  String text=new String(responseText.getResponseData());
  Perl5Matcher matcher=JMeterUtils.getMatcher();
  String value="";
  if (isPathExtension() && isPathExtensionNoEquals()) {
    if (matcher.contains(text,noEqualsRegexp)) {
      MatchResult result=matcher.getMatch();
      value=result.group(1);
    }
  }
 else   if (isPathExtension()) {
    if (matcher.contains(text,equalsRegexp)) {
      MatchResult result=matcher.getMatch();
      value=result.group(1);
    }
  }
 else {
    if (matcher.contains(text,equalsRegexp)) {
      MatchResult result=matcher.getMatch();
      value=result.group(1);
    }
 else     if (matcher.contains(text,formRegexp1)) {
      MatchResult result=matcher.getMatch();
      value=result.group(1);
    }
 else     if (matcher.contains(text,formRegexp2)) {
      MatchResult result=matcher.getMatch();
      value=result.group(1);
    }
  }
  modify((HTTPSampler)sampler,value);
}
