{
  while (e.hasMoreNodes()) {
    Node node=e.nextNode();
    if (!(node instanceof Tag)) {
      continue;
    }
    Tag tag=(Tag)node;
    String tagname=tag.getTagName();
    String binUrlStr=null;
    if (tag instanceof BodyTag) {
      binUrlStr=tag.getAttribute(ATT_BACKGROUND);
    }
 else     if (tag instanceof BaseHrefTag) {
      BaseHrefTag baseHref=(BaseHrefTag)tag;
      String baseref=baseHref.getBaseUrl().toString();
      try {
        if (!baseref.equals("")) {
          baseUrl.url=new URL(baseUrl.url,baseHref.getBaseUrl());
        }
      }
 catch (      MalformedURLException e1) {
        throw new HTMLParseException(e1);
      }
    }
 else     if (tag instanceof ImageTag) {
      ImageTag image=(ImageTag)tag;
      binUrlStr=image.getImageURL();
    }
 else     if (tag instanceof AppletTag) {
      AppletTag applet=(AppletTag)tag;
      binUrlStr=applet.getAppletClass();
    }
 else     if (tag instanceof InputTag) {
      if (ATT_IS_IMAGE.equalsIgnoreCase(tag.getAttribute(ATT_TYPE))) {
        binUrlStr=tag.getAttribute(ATT_SRC);
      }
    }
 else     if (tag instanceof LinkTag) {
      LinkTag link=(LinkTag)tag;
      if (link.getChild(0) instanceof ImageTag) {
        ImageTag img=(ImageTag)link.getChild(0);
        binUrlStr=img.getImageURL();
      }
    }
 else     if (tag instanceof ScriptTag) {
      binUrlStr=tag.getAttribute(ATT_SRC);
    }
 else     if (tag instanceof FrameTag) {
      binUrlStr=tag.getAttribute(ATT_SRC);
    }
 else     if (tagname.equalsIgnoreCase(TAG_EMBED) || tagname.equalsIgnoreCase(TAG_BGSOUND)) {
      binUrlStr=tag.getAttribute(ATT_SRC);
    }
 else     if (tagname.equalsIgnoreCase(TAG_LINK)) {
      if (STYLESHEET.equalsIgnoreCase(tag.getAttribute(ATT_REL))) {
        binUrlStr=tag.getAttribute(ATT_HREF);
      }
    }
 else {
      binUrlStr=tag.getAttribute(ATT_BACKGROUND);
    }
    if (binUrlStr != null) {
      urls.addURL(binUrlStr,baseUrl.url);
    }
    String styleTagStr=tag.getAttribute(ATT_STYLE);
    if (styleTagStr != null) {
      HtmlParsingUtils.extractStyleURLs(baseUrl.url,urls,styleTagStr);
    }
    if (tag instanceof CompositeTag) {
      CompositeTag composite=(CompositeTag)tag;
      parseNodes(composite.elements(),baseUrl,urls);
    }
  }
}
