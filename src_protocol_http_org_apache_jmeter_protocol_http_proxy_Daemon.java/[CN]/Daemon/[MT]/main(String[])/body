{
  int daemonPort;
switch (args.length) {
case 0:
    daemonPort=defaultDaemonPort;
  break;
case 1:
try {
  daemonPort=Integer.parseInt(args[0]);
}
 catch (NumberFormatException e) {
  log.error("Invalid daemon port",e);
  return;
}
if (daemonPort > maxDaemonPort) {
log.error("Invalid daemon port");
return;
}
break;
default :
log.info("Usage: Proxy [daemon port]");
return;
}
Daemon demon=new Daemon();
try {
demon.configureProxy(daemonPort);
}
 catch (UnknownHostException e) {
log.fatalError("Unknown host",e);
System.exit(-1);
}
demon.start();
}
