{
  StringBuffer hdrs=new StringBuffer(100);
  Map<String,List<String>> requestHeaders=conn.getRequestProperties();
  Set<Map.Entry<String,List<String>>> headerFields=requestHeaders.entrySet();
  for (Iterator<Map.Entry<String,List<String>>> i=headerFields.iterator(); i.hasNext(); ) {
    Map.Entry<String,List<String>> entry=i.next();
    String headerKey=entry.getKey();
    if (!HEADER_COOKIE.equalsIgnoreCase(headerKey)) {
      List<String> values=entry.getValue();
      for (int j=0; j < values.size(); j++) {
        hdrs.append(headerKey);
        hdrs.append(": ");
        hdrs.append(values.get(j));
        hdrs.append("\n");
      }
    }
  }
  return hdrs.toString();
}
