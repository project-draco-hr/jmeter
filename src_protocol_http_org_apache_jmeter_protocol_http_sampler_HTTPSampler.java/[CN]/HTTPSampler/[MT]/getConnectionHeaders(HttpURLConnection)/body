{
  StringBuffer hdrs=new StringBuffer(100);
  Map requestHeaders=conn.getRequestProperties();
  Set headerFields=requestHeaders.keySet();
  for (Iterator i=headerFields.iterator(); i.hasNext(); ) {
    String headerKey=(String)i.next();
    if (!HEADER_COOKIE.equalsIgnoreCase(headerKey)) {
      String headerValue=conn.getRequestProperty(headerKey);
      hdrs.append(headerKey);
      hdrs.append(": ");
      hdrs.append(headerValue);
      hdrs.append("\n");
    }
  }
  return hdrs.toString();
}
