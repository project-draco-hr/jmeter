{
  StringBuffer hdrs=new StringBuffer(100);
  Map requestHeaders=conn.getRequestProperties();
  Set headerFields=requestHeaders.entrySet();
  for (Iterator i=headerFields.iterator(); i.hasNext(); ) {
    Map.Entry entry=(Map.Entry)i.next();
    String headerKey=(String)entry.getKey();
    if (!HEADER_COOKIE.equalsIgnoreCase(headerKey)) {
      List values=(List)entry.getValue();
      for (int j=0; j < values.size(); j++) {
        hdrs.append(headerKey);
        hdrs.append(": ");
        hdrs.append((String)values.get(j));
        hdrs.append("\n");
      }
    }
  }
  return hdrs.toString();
}
