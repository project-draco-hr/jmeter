{
  PropertyIterator args=getArguments().iterator();
  while (args.hasNext()) {
    Argument arg=(Argument)args.next().getObjectValue();
    post.addParameter(arg.getName(),arg.getValue());
  }
  String filename=getFilename();
  if ((filename != null) && (filename.trim().length() > 0)) {
    File input=new File(filename);
    Part[] parts={new FilePart(getFileField(),input,getMimetype(),"UTF-8")};
    post.setRequestEntity(new MultipartRequestEntity(parts,post.getParams()));
  }
}
