{
  PropertyIterator args=sampler.getArguments().iterator();
  while (args.hasNext()) {
    Argument arg=(Argument)args.next().getObjectValue();
    post.addParameter(arg.getName(),arg.getValue());
  }
  String filename=sampler.getFilename();
  if ((filename != null) && (filename.trim().length() > 0)) {
    File input=new File(filename);
    post.setRequestHeader(HEADER_CONTENT_DISPOSITION,"form-data; name=\"" + encode(sampler.getFileField()) + "\"; filename=\""+ encode(filename)+ "\"");
    post.setRequestHeader(HEADER_CONTENT_TYPE,sampler.getMimetype());
    post.setRequestEntity(new InputStreamRequestEntity(new FileInputStream(input),input.length()));
  }
}
