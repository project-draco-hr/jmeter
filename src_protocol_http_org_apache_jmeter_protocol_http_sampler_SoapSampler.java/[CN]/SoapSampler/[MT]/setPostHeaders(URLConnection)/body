{
  ((HttpURLConnection)connection).setRequestMethod("POST");
  connection.setRequestProperty("Content-Length","" + getXmlData().length());
  if (getHeaderManager() != null) {
    HeaderManager mngr=getHeaderManager();
    int headerSize=mngr.size();
    for (int idx=0; idx < headerSize; idx++) {
      Header hd=mngr.getHeader(idx);
      connection.setRequestProperty(hd.getName(),hd.getValue());
    }
  }
 else {
    connection.setRequestProperty("Content-Type","text/xml");
    if (getSendSOAPAction())     connection.setRequestProperty("SOAPAction","\"" + getSOAPAction() + "\"");
  }
  connection.setDoOutput(true);
}
