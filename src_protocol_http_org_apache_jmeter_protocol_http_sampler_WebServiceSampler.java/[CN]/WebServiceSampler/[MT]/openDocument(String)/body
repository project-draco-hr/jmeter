{
  DocumentBuilder XDB=XMLParserUtils.getXMLDocBuilder();
  XDB.setErrorHandler(null);
  Document doc=null;
  if (file.length() > 0) {
    if (this.getReadResponse()) {
      TextFile tfile=new TextFile(file);
      fileContents=tfile.getText();
    }
    doc=XDB.parse(new FileInputStream(file));
  }
 else {
    fileContents=getXmlData();
    if (fileContents != null && fileContents.length() > 0) {
      doc=XDB.parse(new InputSource(new StringReader(fileContents)));
    }
 else {
      log.warn("No post data provided!");
    }
  }
  return doc;
}
