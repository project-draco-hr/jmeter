{
  if (query != null && query.length() > 0) {
    try {
      query=URLDecoder.decode(query,CHARSET_DECODE);
    }
 catch (    IllegalArgumentException e) {
      log.warn("Error decoding query, maybe your request parameters should be encoded:" + query,e);
      return null;
    }
catch (    UnsupportedEncodingException uee) {
      log.warn("Error decoding query, maybe your request parameters should be encoded:" + query,uee);
      return null;
    }
    return query;
  }
  return null;
}
