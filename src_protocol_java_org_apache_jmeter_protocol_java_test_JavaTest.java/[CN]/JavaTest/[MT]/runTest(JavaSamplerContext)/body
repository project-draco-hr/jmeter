{
  setupValues(context);
  SampleResult results=new SampleResult();
  results.setResponseCode(responseCode);
  results.setResponseMessage(responseMessage);
  results.setSampleLabel(label);
  if (samplerData != null && samplerData.length() > 0) {
    results.setSamplerData(samplerData);
  }
  if (resultData != null && resultData.length() > 0) {
    results.setResponseData(resultData.getBytes());
    results.setDataType(SampleResult.TEXT);
  }
  results.sampleStart();
  long start=System.currentTimeMillis();
  long sleep=getSleepTime() + (start % getSleepMask());
  try {
    Thread.sleep(sleep);
    results.setSuccessful(success);
  }
 catch (  InterruptedException e) {
    getLogger().warn("JavaTest: interrupted.");
    results.setSuccessful(true);
  }
catch (  Exception e) {
    getLogger().error("JavaTest: error during sample",e);
    results.setSuccessful(false);
  }
 finally {
    results.sampleEnd();
  }
  if (getLogger().isDebugEnabled()) {
    getLogger().debug(whoAmI() + "\trunTest()" + "\tTime:\t"+ results.getTime());
    listParameters(context);
  }
  return results;
}
