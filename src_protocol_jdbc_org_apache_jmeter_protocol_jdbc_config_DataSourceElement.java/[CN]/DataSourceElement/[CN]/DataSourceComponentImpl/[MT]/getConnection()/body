{
  Connection conn=null;
  DataSourceComponent dsc=null;
  if (sharedDSC != null) {
    dsc=sharedDSC;
  }
 else {
    Map poolMap=(Map)perThreadPoolMap.get();
    dsc=(DataSourceComponent)poolMap.get(getDataSource());
    if (dsc == null) {
      dsc=initPool("1");
      poolMap.put(getDataSource(),dsc);
      perThreadPoolSet.add(dsc);
    }
  }
  if (dsc != null) {
    conn=dsc.getConnection();
  }
  return conn;
}
