{
  excaliburSource=new ResourceLimitingJdbcDataSource();
  DefaultConfiguration config=new DefaultConfiguration("rl-jdbc");
  DefaultConfiguration poolController=new DefaultConfiguration("pool-controller");
  poolController.setAttribute("max",getPoolMax());
  poolController.setAttribute("max-strict","true");
  poolController.setAttribute("blocking","true");
  poolController.setAttribute("timeout",getTimeout());
  poolController.setAttribute("trim-interval",getTrimInterval());
  poolController.setAttribute("auto-commit",String.valueOf(isAutocommit()));
  config.addChild(poolController);
  DefaultConfiguration cfgKeepAlive=new DefaultConfiguration("keep-alive");
  cfgKeepAlive.setAttribute("disable",String.valueOf(!isKeepAlive()));
  cfgKeepAlive.setAttribute("age",getConnectionAge());
  cfgKeepAlive.setValue(getCheckQuery());
  poolController.addChild(cfgKeepAlive);
  DefaultConfiguration cfgDriver=new DefaultConfiguration("driver");
  cfgDriver.setValue(getDriver());
  config.addChild(cfgDriver);
  DefaultConfiguration cfgDbUrl=new DefaultConfiguration("dburl");
  cfgDbUrl.setValue(getDbUrl());
  config.addChild(cfgDbUrl);
  DefaultConfiguration cfgUsername=new DefaultConfiguration("user");
  cfgUsername.setValue(getUsername());
  config.addChild(cfgUsername);
  DefaultConfiguration cfgPassword=new DefaultConfiguration("password");
  cfgPassword.setValue(getPassword());
  config.addChild(cfgPassword);
  excaliburSource.enableLogging(new LogKitLogger(log));
  excaliburSource.configure(config);
  excaliburSource.setInstrumentableName(getDataSource());
  started[0]=true;
  return excaliburSource;
}
