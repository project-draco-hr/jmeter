{
  log.debug("Running shutdown from " + Thread.currentThread().getName());
synchronized (poolMap) {
    Iterator iter=poolMap.keySet().iterator();
    while (iter.hasNext()) {
      DBKey key=(DBKey)iter.next();
      ConnectionPool pool=(ConnectionPool)poolMap.remove(key);
      pool.close();
    }
  }
}
