{
  log.info("Subscriber2.listen() called");
  while (RUN) {
    if (SUBSCRIBER == null) {
      log.error("Subscriber has not been set up");
      break;
    }
    try {
      Message message=this.SUBSCRIBER.receive();
      if (message != null) {
        if (message instanceof TextMessage) {
          TextMessage msg=(TextMessage)message;
          if (msg.getText().trim().length() > 0) {
            this.buffer.append(msg.getText());
          }
        }
 else         if (message instanceof ObjectMessage) {
          this.OBJ_RESULT=((ObjectMessage)message).getObject();
        }
        count(1);
      }
    }
 catch (    JMSException e) {
      log.info("Communication error: " + e.getMessage());
    }
  }
}
