{
  if (SUBSCRIBER == null) {
    log.error("Subscriber has not been set up");
    return;
  }
  while (RUN) {
    try {
      Message message=this.SUBSCRIBER.receive();
      if (message != null && message instanceof TextMessage) {
        queue.add((TextMessage)message);
        count(1);
      }
    }
 catch (    JMSException e) {
      log.error("Communication error: " + e.getMessage());
    }
  }
}
