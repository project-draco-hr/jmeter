{
  if (null != principal && null != credentials) {
    log.info("creating receiver WITH authorisation credentials. UseResMsgId=" + useResMsgIdAsCorrelId);
    conn=factory.createQueueConnection(principal,credentials);
  }
 else {
    log.info("creating receiver without authorisation credentials. UseResMsgId=" + useResMsgIdAsCorrelId);
    conn=factory.createQueueConnection();
  }
  session=conn.createQueueSession(false,Session.AUTO_ACKNOWLEDGE);
  consumer=session.createReceiver(receiveQueue);
  this.useResMsgIdAsCorrelId=useResMsgIdAsCorrelId;
  log.debug("Receiver - ctor. Starting connection now");
  conn.start();
  log.info("Receiver - ctor. Connection to messaging system established");
}
