{
  SampleResult result=new SampleResult();
  result.setDataType(SampleResult.TEXT);
  result.setSampleLabel(getName());
  if (this.SUBSCRIBER == null) {
    this.initReceiveClient();
    this.SUBSCRIBER.start();
  }
  int loop=this.getIterationCount();
  this.SUBSCRIBER.setLoop(loop);
  result.sampleStart();
  while (this.SUBSCRIBER.count(0) < loop && interrupted == false) {
    try {
      Thread.sleep(0,50);
    }
 catch (    InterruptedException e) {
      log.debug(e.getMessage());
    }
  }
  result.sampleEnd();
  int read=this.SUBSCRIBER.count(0);
  if (this.getReadResponseAsBoolean()) {
    result.setResponseData(this.SUBSCRIBER.getMessage(),null);
  }
 else {
    result.setBytes(this.SUBSCRIBER.getMessage().length());
  }
  result.setSuccessful(true);
  result.setResponseCodeOK();
  result.setResponseMessage(read + " message(s) received successfully");
  result.setSamplerData(loop + " messages expected");
  result.setSampleCount(read);
  this.SUBSCRIBER.reset();
  return result;
}
