{
  if (smtpPanel == null) {
    smtpPanel=new SmtpPanel();
  }
  smtpPanel.setServer(element.getPropertyAsString(SmtpSampler.SERVER));
  smtpPanel.setPort(element.getPropertyAsString(SmtpSampler.SERVER_PORT));
  smtpPanel.setMailFrom(element.getPropertyAsString(SmtpSampler.MAIL_FROM));
  smtpPanel.setReceiverTo(element.getPropertyAsString(SmtpSampler.RECEIVER_TO));
  smtpPanel.setReceiverCC(element.getPropertyAsString(SmtpSampler.RECEIVER_CC));
  smtpPanel.setReceiverBCC(element.getPropertyAsString(SmtpSampler.RECEIVER_BCC));
  smtpPanel.setBody(element.getPropertyAsString(SmtpSampler.MESSAGE));
  smtpPanel.setSubject(element.getPropertyAsString(SmtpSampler.SUBJECT));
  smtpPanel.setSuppressSubject(element.getPropertyAsBoolean(SmtpSampler.SUPPRESS_SUBJECT));
  smtpPanel.setIncludeTimestamp(element.getPropertyAsBoolean(SmtpSampler.INCLUDE_TIMESTAMP));
  JMeterProperty headers=element.getProperty(SmtpSampler.HEADER_FIELDS);
  if (headers instanceof CollectionProperty) {
    smtpPanel.setHeaderFields((CollectionProperty)headers);
  }
 else {
    smtpPanel.setHeaderFields(new CollectionProperty());
  }
  smtpPanel.setAttachments(element.getPropertyAsString(SmtpSampler.ATTACH_FILE));
  smtpPanel.setUseEmlMessage(element.getPropertyAsBoolean(SmtpSampler.USE_EML));
  smtpPanel.setEmlMessage(element.getPropertyAsString(SmtpSampler.EML_MESSAGE_TO_SEND));
  smtpPanel.setUseSSL(element.getPropertyAsBoolean(SmtpSampler.USE_SSL));
  smtpPanel.setUseStartTLS(element.getPropertyAsBoolean(SmtpSampler.USE_STARTTLS));
  if (!element.getPropertyAsBoolean(SmtpSampler.USE_STARTTLS) && !element.getPropertyAsBoolean(SmtpSampler.USE_SSL)) {
    smtpPanel.setUseNoSecurity(true);
  }
  smtpPanel.setTrustAllCerts(element.getPropertyAsBoolean(SmtpSampler.SSL_TRUST_ALL_CERTS));
  smtpPanel.setEnforceStartTLS(element.getPropertyAsBoolean(SmtpSampler.ENFORCE_STARTTLS));
  smtpPanel.setUseLocalTrustStore(element.getPropertyAsBoolean(SmtpSampler.USE_LOCAL_TRUSTSTORE));
  smtpPanel.setTrustStoreToUse(element.getPropertyAsString(SmtpSampler.TRUSTSTORE_TO_USE));
  smtpPanel.setUseAuth(element.getPropertyAsBoolean(SmtpSampler.USE_AUTH));
  smtpPanel.setUsername(element.getPropertyAsString(SmtpSampler.USERNAME));
  smtpPanel.setPassword(element.getPropertyAsString(SmtpSampler.PASSWORD));
  smtpPanel.setMessageSizeStatistic(element.getPropertyAsBoolean(SmtpSampler.MESSAGE_SIZE_STATS));
  smtpPanel.setEnableDebug(element.getPropertyAsBoolean(SmtpSampler.ENABLE_DEBUG));
  super.configure(element);
}
