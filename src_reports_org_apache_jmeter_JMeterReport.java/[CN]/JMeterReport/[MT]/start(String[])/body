{
  CLArgsParser parser=new CLArgsParser(args,options);
  if (null != parser.getErrorString()) {
    System.err.println("Error: " + parser.getErrorString());
    System.out.println("Usage");
    System.out.println(CLUtil.describeOptions(options).toString());
    return;
  }
  try {
    initializeProperties(parser);
    log.info("Version " + JMeterUtils.getJMeterVersion());
    log.info("java.version=" + System.getProperty("java.version"));
    log.info(JMeterUtils.getJMeterCopyright());
    if (parser.getArgumentById(VERSION_OPT) != null) {
      System.out.println(JMeterUtils.getJMeterCopyright());
      System.out.println("Version " + JMeterUtils.getJMeterVersion());
    }
 else     if (parser.getArgumentById(HELP_OPT) != null) {
      System.out.println(JMeterUtils.getResourceFileAsText("org/apache/jmeter/help.txt"));
    }
 else     if (parser.getArgumentById(NONGUI_OPT) == null) {
      startGui(parser.getArgumentById(TESTFILE_OPT));
    }
 else {
      startNonGui(parser.getArgumentById(TESTFILE_OPT),parser.getArgumentById(LOGFILE_OPT));
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
    System.out.println("An error occurred: " + e.getMessage());
    System.exit(-1);
  }
}
