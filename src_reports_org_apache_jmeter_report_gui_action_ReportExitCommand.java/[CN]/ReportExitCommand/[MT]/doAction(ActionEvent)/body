{
  ReportActionRouter.getInstance().doActionNow(new ActionEvent(e.getSource(),e.getID(),ReportCheckDirty.CHECK_DIRTY));
  if (ReportGuiPackage.getInstance().isDirty()) {
    int chosenOption=JOptionPane.showConfirmDialog(ReportGuiPackage.getInstance().getMainFrame(),JMeterUtils.getResString("cancel_exit_to_save"),JMeterUtils.getResString("save?"),JOptionPane.YES_NO_CANCEL_OPTION,JOptionPane.QUESTION_MESSAGE);
    if (chosenOption == JOptionPane.NO_OPTION) {
      System.exit(0);
    }
 else     if (chosenOption == JOptionPane.YES_OPTION) {
      ReportActionRouter.getInstance().doActionNow(new ActionEvent(e.getSource(),e.getID(),ReportSave.SAVE_ALL_AS));
      if (!ReportGuiPackage.getInstance().isDirty()) {
        System.exit(0);
      }
    }
  }
 else {
    System.exit(0);
  }
}
