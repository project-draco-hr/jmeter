{
  setupFilepart(sampler,"",temporaryFile,"");
  PostWriter.setHeaders(connection,sampler);
  PostWriter.sendPostData(connection,sampler);
  checkArraysHaveSameContent(TEST_FILE_CONTENT,connection.getOutputStreamContent());
  connection.disconnect();
  establishConnection();
  sampler.setContentEncoding("UTF-8");
  PostWriter.setHeaders(connection,sampler);
  PostWriter.sendPostData(connection,sampler);
  checkArraysHaveSameContent(TEST_FILE_CONTENT,connection.getOutputStreamContent());
  checkArraysHaveDifferentContent(new String(TEST_FILE_CONTENT).getBytes("UTF-8"),connection.getOutputStreamContent());
  setupFormData(sampler);
  establishConnection();
  sampler.setContentEncoding("");
  PostWriter.setHeaders(connection,sampler);
  PostWriter.sendPostData(connection,sampler);
}
