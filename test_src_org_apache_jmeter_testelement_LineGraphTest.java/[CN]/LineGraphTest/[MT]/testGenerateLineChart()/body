{
  log.info("jtl version=" + JMeterUtils.getProperty("file_format.testlog"));
  String sampleLog="testfiles/sample_log1.jtl";
  String sampleLog2="testfiles/sample_log1b.jtl";
  String sampleLog3="testfiles/sample_log1c.jtl";
  JTLData input=new JTLData();
  JTLData input2=new JTLData();
  JTLData input3=new JTLData();
  input.setDataSource(sampleLog);
  input.loadData();
  input2.setDataSource(sampleLog2);
  input2.loadData();
  input3.setDataSource(sampleLog3);
  input3.loadData();
  assertTrue((input.getStartTimestamp() > 0));
  assertTrue((input.getEndTimestamp() > input.getStartTimestamp()));
  assertTrue((input.getURLs().size() > 0));
  log.info("URL count=" + input.getURLs().size());
  java.util.ArrayList<DataSet> list=new java.util.ArrayList<DataSet>();
  list.add(input);
  list.add(input2);
  list.add(input3);
  LineChart lgraph=new LineChart();
  lgraph.setTitle("Sample Line Graph");
  lgraph.setCaption("Sample");
  lgraph.setName("Sample");
  lgraph.setYAxis("milliseconds");
  lgraph.setYLabel("Test Runs");
  lgraph.setXAxis(AbstractTable.REPORT_TABLE_MAX);
  lgraph.setXLabel(AbstractChart.X_DATA_FILENAME_LABEL);
  lgraph.setURLs("jakarta_home,jmeter_home");
  JComponent gr=lgraph.renderChart(list);
  assertNotNull(gr);
  SaveGraphicsService serv=new SaveGraphicsService();
  String filename=lgraph.getTitle();
  filename=filename.replace(' ','_');
  if (!"true".equalsIgnoreCase(System.getProperty("java.awt.headless"))) {
    serv.saveJComponent("./testfiles/" + filename,SaveGraphicsService.PNG,gr);
  }
}
