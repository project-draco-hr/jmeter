{
  ConstantThroughputTimer timer=new ConstantThroughputTimer();
  assertEquals(0,timer.getCalcModeInt());
  timer.setThroughput(60.0);
  long delay=timer.delay();
  assertEquals(0,delay);
  Thread.sleep(500);
  long diff=Math.abs(timer.delay() - 500);
  assertTrue("Delay is approximately 500",diff <= 50);
}
